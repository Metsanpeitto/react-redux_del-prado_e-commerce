{"ast":null,"code":"import _classCallCheck from \"/home/jarri/Desktop/projects-web/react-new/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/jarri/Desktop/projects-web/react-new/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/jarri/Desktop/projects-web/react-new/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/jarri/Desktop/projects-web/react-new/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/jarri/Desktop/projects-web/react-new/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/jarri/Desktop/projects-web/react-new/front-end/src/components/collection/common/product-listing.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { getTotal, getCartProducts } from '../../../reducers';\nimport { addToCart, addToWishlist, addToCompare } from '../../../actions';\nimport { getVisibleproducts } from '../../../services';\nimport ProductListItem from \"./product-list-item\";\n\nvar ProductListing = /*#__PURE__*/function (_Component) {\n  _inherits(ProductListing, _Component);\n\n  function ProductListing(props) {\n    var _this;\n\n    _classCallCheck(this, ProductListing);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProductListing).call(this, props));\n\n    _this.fetchMoreItems = function () {\n      if (_this.state.limit >= _this.props.products.length) {\n        _this.setState({\n          hasMoreItems: false\n        });\n\n        return;\n      } // a fake async api call\n\n\n      setTimeout(function () {\n        _this.setState({\n          limit: _this.state.limit + 5\n        });\n      }, 3000);\n    };\n\n    _this.state = {\n      limit: 5,\n      hasMoreItems: true\n    };\n    return _this;\n  }\n\n  _createClass(ProductListing, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.fetchMoreItems();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          products = _this$props.products,\n          addToCart = _this$props.addToCart,\n          symbol = _this$props.symbol,\n          addToWishlist = _this$props.addToWishlist,\n          addToCompare = _this$props.addToCompare;\n      console.log(this.props.colSize);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"product-wrapper-grid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }\n      }, products.length > 0 ? /*#__PURE__*/React.createElement(InfiniteScroll, {\n        dataLength: this.state.limit //This is important field to render the next data\n        ,\n        next: this.fetchMoreItems,\n        hasMore: this.state.hasMoreItems,\n        loader: /*#__PURE__*/React.createElement(\"div\", {\n          className: \"loading-cls\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 41\n          }\n        }),\n        endMessage: /*#__PURE__*/React.createElement(\"p\", {\n          className: \"seen-cls seen-it-cls\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"b\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 41\n          }\n        }, \"Yay! You have seen it all\")),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 33\n        }\n      }, products.slice(0, this.state.limit).map(function (product, index) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"\".concat(_this2.props.colSize === 3 ? 'col-xl-3 col-md-6 col-grid-box' : 'col-lg-' + _this2.props.colSize),\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(ProductListItem, {\n          product: product,\n          symbol: symbol,\n          onAddToCompareClicked: function onAddToCompareClicked() {\n            return addToCompare(product);\n          },\n          onAddToWishlistClicked: function onAddToWishlistClicked() {\n            return addToWishlist(product);\n          },\n          onAddToCartClicked: addToCart,\n          key: index,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 41\n          }\n        }));\n      }))) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12 text-center section-b-space mt-5 no-found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: \"\".concat(process.env.PUBLIC_URL, \"/assets/images/empty-search.jpg\"),\n        className: \"img-fluid mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 37\n        }\n      }, \"Sorry! Couldn't find the product you were looking For!!!    \"), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }\n      }, \"Please check if you have misspelt something or try searching with other words.\"), /*#__PURE__*/React.createElement(Link, {\n        to: \"\".concat(process.env.PUBLIC_URL, \"/\"),\n        className: \"btn btn-solid\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 37\n        }\n      }, \"continue shopping\"))))));\n    }\n  }]);\n\n  return ProductListing;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    products: getVisibleproducts(state.data, state.filters),\n    symbol: state.data.symbol\n  };\n};\n\nexport default connect(mapStateToProps, {\n  addToCart: addToCart,\n  addToWishlist: addToWishlist,\n  addToCompare: addToCompare\n})(ProductListing);","map":{"version":3,"sources":["/home/jarri/Desktop/projects-web/react-new/front-end/src/components/collection/common/product-listing.jsx"],"names":["React","Component","connect","Link","InfiniteScroll","getTotal","getCartProducts","addToCart","addToWishlist","addToCompare","getVisibleproducts","ProductListItem","ProductListing","props","fetchMoreItems","state","limit","products","length","setState","hasMoreItems","setTimeout","symbol","console","log","colSize","slice","map","product","index","process","env","PUBLIC_URL","mapStateToProps","data","filters"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport { connect } from 'react-redux'\r\nimport {Link} from 'react-router-dom';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\n\r\nimport { getTotal, getCartProducts } from '../../../reducers'\r\nimport { addToCart, addToWishlist, addToCompare } from '../../../actions'\r\nimport {getVisibleproducts} from '../../../services';\r\nimport ProductListItem from \"./product-list-item\";\r\n\r\nclass ProductListing extends Component {\r\n\r\n    constructor (props) {\r\n        super (props)\r\n\r\n        this.state = { limit: 5, hasMoreItems: true };\r\n\r\n    }\r\n\r\n    componentWillMount(){\r\n        this.fetchMoreItems();\r\n    }\r\n\r\n    fetchMoreItems = () => {\r\n        if (this.state.limit >= this.props.products.length) {\r\n            this.setState({ hasMoreItems: false });\r\n            return;\r\n        }\r\n        // a fake async api call\r\n        setTimeout(() => {\r\n            this.setState({\r\n                limit: this.state.limit + 5\r\n            });\r\n        }, 3000);\r\n\r\n\r\n    }\r\n\r\n    render (){\r\n        const {products, addToCart, symbol, addToWishlist, addToCompare} = this.props;\r\n        console.log(this.props.colSize)\r\n        return (\r\n            <div>\r\n                <div className=\"product-wrapper-grid\">\r\n                    <div className=\"container-fluid\">\r\n                        {products.length > 0 ?\r\n                            <InfiniteScroll\r\n                                dataLength={this.state.limit} //This is important field to render the next data\r\n                                next={this.fetchMoreItems}\r\n                                hasMore={this.state.hasMoreItems}\r\n                                loader={<div className=\"loading-cls\"></div>}\r\n                                endMessage={\r\n                                    <p className=\"seen-cls seen-it-cls\">\r\n                                        <b>Yay! You have seen it all</b>\r\n                                    </p>\r\n                                }\r\n                            >\r\n                                <div className=\"row\">\r\n                                    { products.slice(0, this.state.limit).map((product, index) =>\r\n                                        <div className={`${this.props.colSize===3?'col-xl-3 col-md-6 col-grid-box':'col-lg-'+this.props.colSize}`} key={index}>\r\n                                        <ProductListItem product={product} symbol={symbol}\r\n                                                         onAddToCompareClicked={() => addToCompare(product)}\r\n                                                         onAddToWishlistClicked={() => addToWishlist(product)}\r\n                                                         onAddToCartClicked={addToCart} key={index}/>\r\n                                        </div>)\r\n                                    }\r\n                                </div>\r\n                            </InfiniteScroll>\r\n                            :\r\n                            <div className=\"row\">\r\n                                <div className=\"col-sm-12 text-center section-b-space mt-5 no-found\" >\r\n                                    <img src={`${process.env.PUBLIC_URL}/assets/images/empty-search.jpg`} className=\"img-fluid mb-4\" />\r\n                                    <h3>Sorry! Couldn't find the product you were looking For!!!    </h3>\r\n                                    <p>Please check if you have misspelt something or try searching with other words.</p>\r\n                                    <Link to={`${process.env.PUBLIC_URL}/`} className=\"btn btn-solid\">continue shopping</Link>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    products: getVisibleproducts(state.data, state.filters),\r\n    symbol: state.data.symbol,\r\n})\r\n\r\nexport default connect(\r\n    mapStateToProps, {addToCart, addToWishlist, addToCompare}\r\n)(ProductListing)"]},"metadata":{},"sourceType":"module"}